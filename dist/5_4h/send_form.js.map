{"version":3,"sources":["../../5_4h/send_form.js"],"names":["sendData","data","request","XMLHttpRequest","urlEncodedDataPairs","keys","Object","key","push","encodeURIComponent","urlEncodedData","join","replace","addEventListener","alert","open","setRequestHeader","send","window","form","document","getElementById","event","preventDefault","sendFormData","FormData"],"mappings":";;AAAA,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACpB,QAAIC,UAAU,IAAIC,cAAJ,EAAd;AACA,QAAIC,sBAAsB,EAA1B;;AAEA;AACA;AACA,QAAIC,OAAOC,OAAOD,IAAP,CAAYJ,IAAZ,CAAX;AACA,SAAK,IAAIM,GAAT,IAAgBF,IAAhB,EAAsB;AAClBD,4BAAoBI,IAApB,CAAyBC,mBAAmBF,GAAnB,IACnB,GADmB,GACbE,mBAAmBR,KAAKM,GAAL,CAAnB,CADZ;AAEH;;AAED;AACA;AACA,QAAIG,iBAAiBN,oBAAoBO,IAApB,CAAyB,GAAzB,EAA8BC,OAA9B,CAAsC,MAAtC,EAA8C,GAA9C,CAArB;;AAEAV,YAAQW,gBAAR,CAAyB,MAAzB,EAAiC,YAAY;AACzCC,cAAM,sCAAN;AACH,KAFD;;AAIAZ,YAAQW,gBAAR,CAAyB,OAAzB,EAAkC,YAAY;AAC1CC,cAAM,6BAAN;AACH,KAFD;;AAIAZ,YAAQa,IAAR,CAAa,MAAb,EAAqB,uBAArB;;AAEAb,YAAQc,gBAAR,CAAyB,cAAzB,EAAyC,6BAAzC;;AAEAd,YAAQe,IAAR,CAAaP,cAAb;AACH;;AAEDQ,OAAOL,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AACxC,QAAIM,OAAOC,SAASC,cAAT,CAAwB,QAAxB,CAAX;AACAF,SAAKN,gBAAL,CAAsB,QAAtB,EAAgC,UAAUS,KAAV,EAAiB;AAC7CA,cAAMC,cAAN;AACAC;AACH,KAHD;;AAKA,aAASA,YAAT,GAAwB;AACpB,YAAItB,UAAU,IAAIC,cAAJ,EAAd;AACA,YAAIF,OAAO,IAAIwB,QAAJ,CAAaN,IAAb,CAAX;AACAjB,gBAAQa,IAAR,CAAa,MAAb,EAAqB,EAArB;AACAb,gBAAQe,IAAR,CAAahB,IAAb;AACH;AACJ,CAbD","file":"send_form.js","sourcesContent":["function sendData(data) {\n    let request = new XMLHttpRequest();\n    let urlEncodedDataPairs = [];\n\n    // Turn into data object into an array of URL-encoded\n    // key /value pairs\n    let keys = Object.keys(data);\n    for (let key in keys) {\n        urlEncodedDataPairs.push(encodeURIComponent(key)\n            + '=' + encodeURIComponent(data[key]));\n    }\n\n    // Combine the pairs into a single string and replace all %-encoded spaces to\n    // the '+' character; matches the behaviour of browser form submissions.\n    let urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');\n\n    request.addEventListener('load', function () {\n        alert('Yeah! Data sent and response loaded.');\n    });\n\n    request.addEventListener('error', function () {\n        alert('Oops! Something goes wrong.');\n    });\n\n    request.open('POST', \"https://www.baidu.com\");\n\n    request.setRequestHeader('Content-Type', 'application-form-urlencoded');\n\n    request.send(urlEncodedData);\n}\n\nwindow.addEventListener('load', function () {\n    let form = document.getElementById('myForm');\n    form.addEventListener('submit', function (event) {\n        event.preventDefault();\n        sendFormData();\n    });\n\n    function sendFormData() {\n        let request = new XMLHttpRequest();\n        let data = new FormData(form);\n        request.open('POST', '');\n        request.send(data);\n    }\n});\n\n\n"]}